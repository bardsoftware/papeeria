<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Sun Feb 15 12:21:24 PST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>MemoryIndex (Lucene 5.0.0 API)</title>
<meta name="date" content="2015-02-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemoryIndex (Lucene 5.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="../../../../../org/apache/lucene/index/memory/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemoryIndex.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/index/memory/MemoryIndex.html" target="_top">Frames</a></li>
<li><a href="MemoryIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.index.memory</div>
<h2 title="Class MemoryIndex" class="title">Class MemoryIndex</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.index.memory.MemoryIndex</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MemoryIndex</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">High-performance single-document main memory Apache Lucene fulltext search index. 
 <p>
 <b>Overview</b>
 <p>
 This class is a replacement/substitute for a large subset of
 <a href="../../../../../../core/org/apache/lucene/store/RAMDirectory.html?is-external=true" title="class or interface in org.apache.lucene.store"><code>RAMDirectory</code></a> functionality. It is designed to
 enable maximum efficiency for on-the-fly matchmaking combining structured and 
 fuzzy fulltext search in realtime streaming applications such as Nux XQuery based XML 
 message queues, publish-subscribe systems for Blogs/newsfeeds, text chat, data acquisition and 
 distribution systems, application level routers, firewalls, classifiers, etc. 
 Rather than targeting fulltext search of infrequent queries over huge persistent 
 data archives (historic search), this class targets fulltext search of huge 
 numbers of queries over comparatively small transient realtime data (prospective 
 search). 
 For example as in 
 <pre class="prettyprint">
 float score = search(String text, Query query)
 </pre>
 <p>
 Each instance can hold at most one Lucene "document", with a document containing
 zero or more "fields", each field having a name and a fulltext value. The
 fulltext value is tokenized (split and transformed) into zero or more index terms 
 (aka words) on <code>addField()</code>, according to the policy implemented by an
 Analyzer. For example, Lucene analyzers can split on whitespace, normalize to lower case
 for case insensitivity, ignore common terms with little discriminatory value such as "he", "in", "and" (stop
 words), reduce the terms to their natural linguistic root form such as "fishing"
 being reduced to "fish" (stemming), resolve synonyms/inflexions/thesauri 
 (upon indexing and/or querying), etc. For details, see
 <a target="_blank" href="http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html">Lucene Analyzer Intro</a>.
 <p>
 Arbitrary Lucene queries can be run against this class - see <a target="_blank" 
 href="../../../../../../queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package_description">
 Lucene Query Syntax</a>
 as well as <a target="_blank" 
 href="http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html">Query Parser Rules</a>.
 Note that a Lucene query selects on the field names and associated (indexed) 
 tokenized terms, not on the original fulltext(s) - the latter are not stored 
 but rather thrown away immediately after tokenization.
 <p>
 For some interesting background information on search technology, see Bob Wyman's
 <a target="_blank" 
 href="http://bobwyman.pubsub.com/main/2005/05/mary_hodder_poi.html">Prospective Search</a>, 
 Jim Gray's
 <a target="_blank" href="http://www.acmqueue.org/modules.php?name=Content&pa=showpage&pid=293&page=4">
 A Call to Arms - Custom subscriptions</a>, and Tim Bray's
 <a target="_blank" 
 href="http://www.tbray.org/ongoing/When/200x/2003/07/30/OnSearchTOC">On Search, the Series</a>.
 
 <p>
 <b>Example Usage</b> 
 <p>
 <pre class="prettyprint">
 Analyzer analyzer = new SimpleAnalyzer(version);
 MemoryIndex index = new MemoryIndex();
 index.addField("content", "Readings about Salmons and other select Alaska fishing Manuals", analyzer);
 index.addField("author", "Tales of James", analyzer);
 QueryParser parser = new QueryParser(version, "content", analyzer);
 float score = index.search(parser.parse("+author:james +salmon~ +fish* manual~"));
 if (score &gt; 0.0f) {
     System.out.println("it's a match");
 } else {
     System.out.println("no match found");
 }
 System.out.println("indexData=" + index.toString());
 </pre>
 
 <p>
 <b>Example XQuery Usage</b> 
 
 <pre class="prettyprint">
 (: An XQuery that finds all books authored by James that have something to do with "salmon fishing manuals", sorted by relevance :)
 declare namespace lucene = "java:nux.xom.pool.FullTextUtil";
 declare variable $query := "+salmon~ +fish* manual~"; (: any arbitrary Lucene query can go here :)
 
 for $book in /books/book[author="James" and lucene:match(abstract, $query) &gt; 0.0]
 let $score := lucene:match($book/abstract, $query)
 order by $score descending
 return $book
 </pre>
 
 <p>
 <b>Thread safety guarantees</b>
 <p>
 MemoryIndex is not normally thread-safe for adds or queries.  However, queries
 are thread-safe after <code>freeze()</code> has been called.

 <p>
 <b>Performance Notes</b>
 <p>
 Internally there's a new data structure geared towards efficient indexing 
 and searching, plus the necessary support code to seamlessly plug into the Lucene 
 framework.
 <p>
 This class performs very well for very small texts (e.g. 10 chars) 
 as well as for large texts (e.g. 10 MB) and everything in between. 
 Typically, it is about 10-100 times faster than <code>RAMDirectory</code>.
 Note that <code>RAMDirectory</code> has particularly 
 large efficiency overheads for small to medium sized texts, both in time and space.
 Indexing a field with N tokens takes O(N) in the best case, and O(N logN) in the worst 
 case. Memory consumption is probably larger than for <code>RAMDirectory</code>.
 <p>
 Example throughput of many simple term queries over a single MemoryIndex: 
 ~500000 queries/sec on a MacBook Pro, jdk 1.5.0_06, server VM. 
 As always, your mileage may vary.
 <p>
 If you're curious about
 the whereabouts of bottlenecks, run java 1.5 with the non-perturbing '-server
 -agentlib:hprof=cpu=samples,depth=10' flags, then study the trace log and
 correlate its hotspot trailer with its call stack headers (see <a
 target="_blank"
 href="http://java.sun.com/developer/technicalArticles/Programming/HPROF.html">
 hprof tracing </a>).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#MemoryIndex()">MemoryIndex</a></strong>()</code>
<div class="block">Constructs an empty instance that will not store offsets or payloads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#MemoryIndex(boolean)">MemoryIndex</a></strong>(boolean&nbsp;storeOffsets)</code>
<div class="block">Constructs an empty instance that can optionally store the start and end
 character offset of each token term in the text.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#MemoryIndex(boolean, boolean)">MemoryIndex</a></strong>(boolean&nbsp;storeOffsets,
           boolean&nbsp;storePayloads)</code>
<div class="block">Constructs an empty instance with the option of storing offsets and payloads.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, java.lang.String, org.apache.lucene.analysis.Analyzer)">addField</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
        <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;text,
        <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html?is-external=true" title="class or interface in org.apache.lucene.analysis">Analyzer</a>&nbsp;analyzer)</code>
<div class="block">Convenience method; Tokenizes the given field text and adds the resulting
 terms to the index; Equivalent to adding an indexed non-keyword Lucene
 <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a> that is tokenized, not stored,
 termVectorStored with positions (or termVectorStored with positions and offsets),</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, org.apache.lucene.analysis.TokenStream)">addField</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
        <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream)</code>
<div class="block">Equivalent to <code>addField(fieldName, stream, 1.0f)</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float)">addField</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
        <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream,
        float&nbsp;boost)</code>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float, int)">addField</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
        <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream,
        float&nbsp;boost,
        int&nbsp;positionIncrementGap)</code>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float, int, int)">addField</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
        <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;tokenStream,
        float&nbsp;boost,
        int&nbsp;positionIncrementGap,
        int&nbsp;offsetGap)</code>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#createSearcher()">createSearcher</a></strong>()</code>
<div class="block">Creates and returns a searcher that can be used to execute arbitrary
 Lucene queries and to collect the resulting query results as hits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#freeze()">freeze</a></strong>()</code>
<div class="block">Prepares the MemoryIndex for querying in a non-lazy way.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#keywordTokenStream(java.util.Collection)">keywordTokenStream</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;keywords)</code>
<div class="block">Convenience method; Creates and returns a token stream that generates a
 token for each keyword in the given collection, "as is", without any
 transforming text analysis.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#reset()">reset</a></strong>()</code>
<div class="block">Resets the <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html" title="class in org.apache.lucene.index.memory"><code>MemoryIndex</code></a> to its initial state and recycles all internal buffers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#search(org.apache.lucene.search.Query)">search</a></strong>(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query)</code>
<div class="block">Convenience method that efficiently returns the relevance score by
 matching this index against the given Lucene query expression.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)">setSimilarity</a></strong>(<a href="../../../../../../core/org/apache/lucene/search/similarities/Similarity.html?is-external=true" title="class or interface in org.apache.lucene.search.similarities">Similarity</a>&nbsp;similarity)</code>
<div class="block">Set the Similarity to be used for calculating field norms</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#toString()">toString</a></strong>()</code>
<div class="block">Returns a String representation of the index data for debugging purposes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MemoryIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MemoryIndex</h4>
<pre>public&nbsp;MemoryIndex()</pre>
<div class="block">Constructs an empty instance that will not store offsets or payloads.</div>
</li>
</ul>
<a name="MemoryIndex(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MemoryIndex</h4>
<pre>public&nbsp;MemoryIndex(boolean&nbsp;storeOffsets)</pre>
<div class="block">Constructs an empty instance that can optionally store the start and end
 character offset of each token term in the text. This can be useful for
 highlighting of hit locations with the Lucene highlighter package.  But
 it will not store payloads; use another constructor for that.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>storeOffsets</code> - whether or not to store the start and end character offset of
            each token term in the text</dd></dl>
</li>
</ul>
<a name="MemoryIndex(boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MemoryIndex</h4>
<pre>public&nbsp;MemoryIndex(boolean&nbsp;storeOffsets,
           boolean&nbsp;storePayloads)</pre>
<div class="block">Constructs an empty instance with the option of storing offsets and payloads.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>storeOffsets</code> - store term offsets at each position</dd><dd><code>storePayloads</code> - store term payloads at each position</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addField(java.lang.String, java.lang.String, org.apache.lucene.analysis.Analyzer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;text,
            <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html?is-external=true" title="class or interface in org.apache.lucene.analysis">Analyzer</a>&nbsp;analyzer)</pre>
<div class="block">Convenience method; Tokenizes the given field text and adds the resulting
 terms to the index; Equivalent to adding an indexed non-keyword Lucene
 <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a> that is tokenized, not stored,
 termVectorStored with positions (or termVectorStored with positions and offsets),</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fieldName</code> - a name to be associated with the text</dd><dd><code>text</code> - the text to tokenize and index.</dd><dd><code>analyzer</code> - the analyzer to use for tokenization</dd></dl>
</li>
</ul>
<a name="keywordTokenStream(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keywordTokenStream</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;keywordTokenStream(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;keywords)</pre>
<div class="block">Convenience method; Creates and returns a token stream that generates a
 token for each keyword in the given collection, "as is", without any
 transforming text analysis. The resulting token stream can be fed into
 <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#addField(java.lang.String, org.apache.lucene.analysis.TokenStream)"><code>addField(String, TokenStream)</code></a>, perhaps wrapped into another
 <a href="../../../../../../core/org/apache/lucene/analysis/TokenFilter.html?is-external=true" title="class or interface in org.apache.lucene.analysis"><code>TokenFilter</code></a>, as desired.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keywords</code> - the keywords to generate tokens for</dd>
<dt><span class="strong">Returns:</span></dt><dd>the corresponding token stream</dd></dl>
</li>
</ul>
<a name="addField(java.lang.String, org.apache.lucene.analysis.TokenStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
            <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream)</pre>
<div class="block">Equivalent to <code>addField(fieldName, stream, 1.0f)</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fieldName</code> - a name to be associated with the text</dd><dd><code>stream</code> - the token stream to retrieve tokens from</dd></dl>
</li>
</ul>
<a name="addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
            <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream,
            float&nbsp;boost)</pre>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.
 Finally closes the token stream. Note that untokenized keywords can be added with this method via 
 <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#keywordTokenStream(java.util.Collection)"><code>keywordTokenStream(Collection)</code></a>, the Lucene <code>KeywordTokenizer</code> or similar utilities.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fieldName</code> - a name to be associated with the text</dd><dd><code>stream</code> - the token stream to retrieve tokens from.</dd><dd><code>boost</code> - the boost factor for hits for this field</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true#setBoost(float)" title="class or interface in org.apache.lucene.document"><code>Field</code></a></dd></dl>
</li>
</ul>
<a name="addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
            <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;stream,
            float&nbsp;boost,
            int&nbsp;positionIncrementGap)</pre>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.
 Finally closes the token stream. Note that untokenized keywords can be added with this method via
 <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#keywordTokenStream(java.util.Collection)"><code>keywordTokenStream(Collection)</code></a>, the Lucene <code>KeywordTokenizer</code> or similar utilities.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fieldName</code> - a name to be associated with the text</dd><dd><code>stream</code> - the token stream to retrieve tokens from.</dd><dd><code>boost</code> - the boost factor for hits for this field</dd><dd><code>positionIncrementGap</code> - the position increment gap if fields with the same name are added more than once</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true#setBoost(float)" title="class or interface in org.apache.lucene.document"><code>Field</code></a></dd></dl>
</li>
</ul>
<a name="addField(java.lang.String, org.apache.lucene.analysis.TokenStream, float, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addField</h4>
<pre>public&nbsp;void&nbsp;addField(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fieldName,
            <a href="../../../../../../core/org/apache/lucene/analysis/TokenStream.html?is-external=true" title="class or interface in org.apache.lucene.analysis">TokenStream</a>&nbsp;tokenStream,
            float&nbsp;boost,
            int&nbsp;positionIncrementGap,
            int&nbsp;offsetGap)</pre>
<div class="block">Iterates over the given token stream and adds the resulting terms to the index;
 Equivalent to adding a tokenized, indexed, termVectorStored, unstored,
 Lucene <a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true" title="class or interface in org.apache.lucene.document"><code>Field</code></a>.
 Finally closes the token stream. Note that untokenized keywords can be added with this method via 
 <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html#keywordTokenStream(java.util.Collection)"><code>keywordTokenStream(Collection)</code></a>, the Lucene <code>KeywordTokenizer</code> or similar utilities.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fieldName</code> - a name to be associated with the text</dd><dd><code>tokenStream</code> - the token stream to retrieve tokens from. It's guaranteed to be closed no matter what.</dd><dd><code>boost</code> - the boost factor for hits for this field</dd><dd><code>positionIncrementGap</code> - the position increment gap if fields with the same name are added more than once</dd><dd><code>offsetGap</code> - the offset gap if fields with the same name are added more than once</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../core/org/apache/lucene/document/Field.html?is-external=true#setBoost(float)" title="class or interface in org.apache.lucene.document"><code>Field</code></a></dd></dl>
</li>
</ul>
<a name="setSimilarity(org.apache.lucene.search.similarities.Similarity)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSimilarity</h4>
<pre>public&nbsp;void&nbsp;setSimilarity(<a href="../../../../../../core/org/apache/lucene/search/similarities/Similarity.html?is-external=true" title="class or interface in org.apache.lucene.search.similarities">Similarity</a>&nbsp;similarity)</pre>
<div class="block">Set the Similarity to be used for calculating field norms</div>
</li>
</ul>
<a name="createSearcher()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSearcher</h4>
<pre>public&nbsp;<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html?is-external=true" title="class or interface in org.apache.lucene.search">IndexSearcher</a>&nbsp;createSearcher()</pre>
<div class="block">Creates and returns a searcher that can be used to execute arbitrary
 Lucene queries and to collect the resulting query results as hits.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a searcher</dd></dl>
</li>
</ul>
<a name="freeze()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeze</h4>
<pre>public&nbsp;void&nbsp;freeze()</pre>
<div class="block">Prepares the MemoryIndex for querying in a non-lazy way.
 <p>
 After calling this you can query the MemoryIndex from multiple threads, but you
 cannot subsequently add new data.</div>
</li>
</ul>
<a name="search(org.apache.lucene.search.Query)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;float&nbsp;search(<a href="../../../../../../core/org/apache/lucene/search/Query.html?is-external=true" title="class or interface in org.apache.lucene.search">Query</a>&nbsp;query)</pre>
<div class="block">Convenience method that efficiently returns the relevance score by
 matching this index against the given Lucene query expression.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>query</code> - an arbitrary Lucene query to run against this index</dd>
<dt><span class="strong">Returns:</span></dt><dd>the relevance score of the matchmaking; A number in the range
         [0.0 .. 1.0], with 0.0 indicating no match. The higher the number
         the better the match.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Returns a String representation of the index data for debugging purposes.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the string representation</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Resets the <a href="../../../../../org/apache/lucene/index/memory/MemoryIndex.html" title="class in org.apache.lucene.index.memory"><code>MemoryIndex</code></a> to its initial state and recycles all internal buffers.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="../../../../../org/apache/lucene/index/memory/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemoryIndex.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/index/memory/MemoryIndex.html" target="_top">Frames</a></li>
<li><a href="MemoryIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2015 Apache Software Foundation.  All Rights Reserved.</i>
          <script src='../../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
