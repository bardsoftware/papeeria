<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Sun Feb 15 12:21:40 PST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>TaxonomyReader (Lucene 5.0.0 API)</title>
<meta name="date" content="2015-02-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TaxonomyReader (Lucene 5.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TaxonomyReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyMergeUtils.html" title="class in org.apache.lucene.facet.taxonomy"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.ChildrenIterator.html" title="class in org.apache.lucene.facet.taxonomy"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/facet/taxonomy/TaxonomyReader.html" target="_top">Frames</a></li>
<li><a href="TaxonomyReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.facet.taxonomy</div>
<h2 title="Class TaxonomyReader" class="title">Class TaxonomyReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.facet.taxonomy.TaxonomyReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/lucene/facet/taxonomy/directory/DirectoryTaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy.directory">DirectoryTaxonomyReader</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">TaxonomyReader</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">TaxonomyReader is the read-only interface with which the faceted-search
 library uses the taxonomy during search time.
 <P>
 A TaxonomyReader holds a list of categories. Each category has a serial
 number which we call an "ordinal", and a hierarchical "path" name:
 <UL>
 <LI>
 The ordinal is an integer that starts at 0 for the first category (which is
 always the root category), and grows contiguously as more categories are
 added; Note that once a category is added, it can never be deleted.
 <LI>
 The path is a CategoryPath object specifying the category's position in the
 hierarchy.
 </UL>
 <B>Notes about concurrent access to the taxonomy:</B>
 <P>
 An implementation must allow multiple readers to be active concurrently
 with a single writer. Readers follow so-called "point in time" semantics,
 i.e., a TaxonomyReader object will only see taxonomy entries which were
 available at the time it was created. What the writer writes is only
 available to (new) readers after the writer's commit() is called.
 <P>
 In faceted search, two separate indices are used: the main Lucene index,
 and the taxonomy. Because the main index refers to the categories listed
 in the taxonomy, it is important to open the taxonomy *after* opening the
 main index, and it is also necessary to reopen() the taxonomy after
 reopen()ing the main index.
 <P>
 This order is important, otherwise it would be possible for the main index
 to refer to a category which is not yet visible in the old snapshot of
 the taxonomy. Note that it is indeed fine for the the taxonomy to be opened
 after the main index - even a long time after. The reason is that once
 a category is added to the taxonomy, it can never be changed or deleted,
 so there is no danger that a "too new" taxonomy not being consistent with
 an older index.</div>
<dl><dt><span class="strong">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
  <dd></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.ChildrenIterator.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader.ChildrenIterator</a></strong></code>
<div class="block">An iterator over a category's children.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#INVALID_ORDINAL">INVALID_ORDINAL</a></strong></code>
<div class="block">Ordinals are always non-negative, so a negative ordinal can be used to
 signify an error.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#ROOT_ORDINAL">ROOT_ORDINAL</a></strong></code>
<div class="block">The root category (the category with the empty path) always has the ordinal
 0, to which we give a name ROOT_ORDINAL.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#TaxonomyReader()">TaxonomyReader</a></strong>()</code>
<div class="block">Sole constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#decRef()">decRef</a></strong>()</code>
<div class="block">Expert: decreases the refCount of this TaxonomyReader instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#doClose()">doClose</a></strong>()</code>
<div class="block">performs the actual task of closing the resources that are used by the
 taxonomy reader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#doOpenIfChanged()">doOpenIfChanged</a></strong>()</code>
<div class="block">Implements the actual opening of a new <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a> instance if
 the taxonomy has changed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#ensureOpen()">ensureOpen</a></strong>()</code>
<div class="block">Throws <a href="../../../../../../core/org/apache/lucene/store/AlreadyClosedException.html?is-external=true" title="class or interface in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this IndexReader is closed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.ChildrenIterator.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader.ChildrenIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getChildren(int)">getChildren</a></strong>(int&nbsp;ordinal)</code>
<div class="block">Returns an iterator over the children of the given ordinal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract <a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getCommitUserData()">getCommitUserData</a></strong>()</code>
<div class="block">Retrieve user committed data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getOrdinal(org.apache.lucene.facet.taxonomy.FacetLabel)">getOrdinal</a></strong>(<a href="../../../../../org/apache/lucene/facet/taxonomy/FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath)</code>
<div class="block">Returns the ordinal of the category given as a path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getOrdinal(java.lang.String, java.lang.String[])">getOrdinal</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dim,
          <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;path)</code>
<div class="block">Returns ordinal for the dim + path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/lucene/facet/taxonomy/ParallelTaxonomyArrays.html" title="class in org.apache.lucene.facet.taxonomy">ParallelTaxonomyArrays</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getParallelTaxonomyArrays()">getParallelTaxonomyArrays</a></strong>()</code>
<div class="block">Returns a <a href="../../../../../org/apache/lucene/facet/taxonomy/ParallelTaxonomyArrays.html" title="class in org.apache.lucene.facet.taxonomy"><code>ParallelTaxonomyArrays</code></a> object which can be used to
 efficiently traverse the taxonomy tree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/lucene/facet/taxonomy/FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getPath(int)">getPath</a></strong>(int&nbsp;ordinal)</code>
<div class="block">Returns the path name of the category with the given ordinal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getRefCount()">getRefCount</a></strong>()</code>
<div class="block">Returns the current refCount for this taxonomy reader.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getSize()">getSize</a></strong>()</code>
<div class="block">Returns the number of categories in the taxonomy.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#incRef()">incRef</a></strong>()</code>
<div class="block">Expert: increments the refCount of this TaxonomyReader instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;T extends <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader</a>&gt;&nbsp;<br>T</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#openIfChanged(T)">openIfChanged</a></strong>(T&nbsp;oldTaxoReader)</code>
<div class="block">If the taxonomy has changed since the provided reader was opened, open and
 return a new <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a>; else, return <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#tryIncRef()">tryIncRef</a></strong>()</code>
<div class="block">Expert: increments the refCount of this TaxonomyReader
  instance only if it has not been closed yet.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ROOT_ORDINAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROOT_ORDINAL</h4>
<pre>public static final&nbsp;int ROOT_ORDINAL</pre>
<div class="block">The root category (the category with the empty path) always has the ordinal
 0, to which we give a name ROOT_ORDINAL. <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getOrdinal(org.apache.lucene.facet.taxonomy.FacetLabel)"><code>getOrdinal(FacetLabel)</code></a>
 of an empty path will always return <code>ROOT_ORDINAL</code>, and
 <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#getPath(int)"><code>getPath(int)</code></a> with <code>ROOT_ORDINAL</code> will return the empty path.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.lucene.facet.taxonomy.TaxonomyReader.ROOT_ORDINAL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="INVALID_ORDINAL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INVALID_ORDINAL</h4>
<pre>public static final&nbsp;int INVALID_ORDINAL</pre>
<div class="block">Ordinals are always non-negative, so a negative ordinal can be used to
 signify an error. Methods here return INVALID_ORDINAL (-1) in this case.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.apache.lucene.facet.taxonomy.TaxonomyReader.INVALID_ORDINAL">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TaxonomyReader()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TaxonomyReader</h4>
<pre>public&nbsp;TaxonomyReader()</pre>
<div class="block">Sole constructor.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="openIfChanged(org.apache.lucene.facet.taxonomy.TaxonomyReader)">
<!--   -->
</a><a name="openIfChanged(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openIfChanged</h4>
<pre>public static&nbsp;&lt;T extends <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader</a>&gt;&nbsp;T&nbsp;openIfChanged(T&nbsp;oldTaxoReader)
                                              throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">If the taxonomy has changed since the provided reader was opened, open and
 return a new <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a>; else, return <code>null</code>. The new
 reader, if not <code>null</code>, will be the same type of reader as the one
 given to this method.
 
 <p>
 This method is typically far less costly than opening a fully new
 <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a> as it shares resources with the provided
 <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a>, when possible.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doClose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doClose</h4>
<pre>protected abstract&nbsp;void&nbsp;doClose()
                         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">performs the actual task of closing the resources that are used by the
 taxonomy reader.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doOpenIfChanged()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doOpenIfChanged</h4>
<pre>protected abstract&nbsp;<a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader</a>&nbsp;doOpenIfChanged()
                                           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Implements the actual opening of a new <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html" title="class in org.apache.lucene.facet.taxonomy"><code>TaxonomyReader</code></a> instance if
 the taxonomy has changed.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#openIfChanged(T)"><code>openIfChanged(TaxonomyReader)</code></a></dd></dl>
</li>
</ul>
<a name="ensureOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureOpen</h4>
<pre>protected final&nbsp;void&nbsp;ensureOpen()
                         throws <a href="../../../../../../core/org/apache/lucene/store/AlreadyClosedException.html?is-external=true" title="class or interface in org.apache.lucene.store">AlreadyClosedException</a></pre>
<div class="block">Throws <a href="../../../../../../core/org/apache/lucene/store/AlreadyClosedException.html?is-external=true" title="class or interface in org.apache.lucene.store"><code>AlreadyClosedException</code></a> if this IndexReader is closed</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../core/org/apache/lucene/store/AlreadyClosedException.html?is-external=true" title="class or interface in org.apache.lucene.store">AlreadyClosedException</a></code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public final&nbsp;void&nbsp;close()
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="decRef()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decRef</h4>
<pre>public final&nbsp;void&nbsp;decRef()
                  throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Expert: decreases the refCount of this TaxonomyReader instance. If the
 refCount drops to 0 this taxonomy reader is closed.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getParallelTaxonomyArrays()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParallelTaxonomyArrays</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/lucene/facet/taxonomy/ParallelTaxonomyArrays.html" title="class in org.apache.lucene.facet.taxonomy">ParallelTaxonomyArrays</a>&nbsp;getParallelTaxonomyArrays()
                                                          throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns a <a href="../../../../../org/apache/lucene/facet/taxonomy/ParallelTaxonomyArrays.html" title="class in org.apache.lucene.facet.taxonomy"><code>ParallelTaxonomyArrays</code></a> object which can be used to
 efficiently traverse the taxonomy tree.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getChildren(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildren</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.ChildrenIterator.html" title="class in org.apache.lucene.facet.taxonomy">TaxonomyReader.ChildrenIterator</a>&nbsp;getChildren(int&nbsp;ordinal)
                                            throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns an iterator over the children of the given ordinal.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCommitUserData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitUserData</h4>
<pre>public abstract&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getCommitUserData()
                                              throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Retrieve user committed data.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyWriter.html#setCommitData(java.util.Map)"><code>TaxonomyWriter.setCommitData(Map)</code></a></dd></dl>
</li>
</ul>
<a name="getOrdinal(org.apache.lucene.facet.taxonomy.FacetLabel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrdinal</h4>
<pre>public abstract&nbsp;int&nbsp;getOrdinal(<a href="../../../../../org/apache/lucene/facet/taxonomy/FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath)
                        throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the ordinal of the category given as a path. The ordinal is the
 category's serial number, an integer which starts with 0 and grows as more
 categories are added (note that once a category is added, it can never be
 deleted).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the category's ordinal or <a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.html#INVALID_ORDINAL"><code>INVALID_ORDINAL</code></a> if the category
         wasn't foun.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getOrdinal(java.lang.String, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrdinal</h4>
<pre>public&nbsp;int&nbsp;getOrdinal(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dim,
             <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;path)
               throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns ordinal for the dim + path.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getPath(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/lucene/facet/taxonomy/FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;getPath(int&nbsp;ordinal)
                            throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns the path name of the category with the given ordinal.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRefCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRefCount</h4>
<pre>public final&nbsp;int&nbsp;getRefCount()</pre>
<div class="block">Returns the current refCount for this taxonomy reader.</div>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public abstract&nbsp;int&nbsp;getSize()</pre>
<div class="block">Returns the number of categories in the taxonomy. Note that the number of
 categories returned is often slightly higher than the number of categories
 inserted into the taxonomy; This is because when a category is added to the
 taxonomy, its ancestors are also added automatically (including the root,
 which always get ordinal 0).</div>
</li>
</ul>
<a name="incRef()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incRef</h4>
<pre>public final&nbsp;void&nbsp;incRef()</pre>
<div class="block">Expert: increments the refCount of this TaxonomyReader instance. RefCounts
 can be used to determine when a taxonomy reader can be closed safely, i.e.
 as soon as there are no more references. Be sure to always call a
 corresponding decRef(), in a finally clause; otherwise the reader may never
 be closed.</div>
</li>
</ul>
<a name="tryIncRef()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tryIncRef</h4>
<pre>public final&nbsp;boolean&nbsp;tryIncRef()</pre>
<div class="block">Expert: increments the refCount of this TaxonomyReader
  instance only if it has not been closed yet.  Returns
  true on success.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TaxonomyReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyMergeUtils.html" title="class in org.apache.lucene.facet.taxonomy"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/lucene/facet/taxonomy/TaxonomyReader.ChildrenIterator.html" title="class in org.apache.lucene.facet.taxonomy"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/lucene/facet/taxonomy/TaxonomyReader.html" target="_top">Frames</a></li>
<li><a href="TaxonomyReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2015 Apache Software Foundation.  All Rights Reserved.</i>
          <script src='../../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
