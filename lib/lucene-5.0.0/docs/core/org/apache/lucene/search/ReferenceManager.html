<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Sun Feb 15 12:20:54 PST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>ReferenceManager (Lucene 5.0.0 API)</title>
<meta name="date" content="2015-02-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReferenceManager (Lucene 5.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReferenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/search/QueryWrapperFilter.html" title="class in org.apache.lucene.search"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/ReferenceManager.html" target="_top">Frames</a></li>
<li><a href="ReferenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.lucene.search</div>
<h2 title="Class ReferenceManager" class="title">Class ReferenceManager&lt;G&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.ReferenceManager&lt;G&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>G</code> - the concrete type that will be <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquired</code></a> and
          <a href="../../../../org/apache/lucene/search/ReferenceManager.html#release(G)"><code>released</code></a>.</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/apache/lucene/index/ReaderManager.html" title="class in org.apache.lucene.index">ReaderManager</a>, <a href="../../../../org/apache/lucene/search/SearcherManager.html" title="class in org.apache.lucene.search">SearcherManager</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">ReferenceManager&lt;G&gt;</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">Utility class to safely share instances of a certain type across multiple
 threads, while periodically refreshing them. This class ensures each
 reference is closed only once all threads have finished using it. It is
 recommended to consult the documentation of <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>
 implementations for their <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()"><code>maybeRefresh()</code></a> semantics.</div>
<dl><dt><span class="strong">WARNING: This API is experimental and might change in incompatible ways in the next release.</span></dt>
  <dd></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a></strong></code>
<div class="block">Use to receive notification when a refresh has
  finished.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#current">current</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#ReferenceManager()">ReferenceManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()">acquire</a></strong>()</code>
<div class="block">Obtain the current reference.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">addListener</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</code>
<div class="block">Adds a listener, to be notified when a reference is refreshed/swapped.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#afterClose()">afterClose</a></strong>()</code>
<div class="block">Called after close(), so subclass can free any resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#afterMaybeRefresh()">afterMaybeRefresh</a></strong>()</code>
<div class="block">Called after a refresh was attempted, regardless of
  whether a new reference was in fact created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()">close</a></strong>()</code>
<div class="block">
 Closes this ReferenceManager to prevent future <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquiring</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#decRef(G)">decRef</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</code>
<div class="block">Decrement reference counting on the given reference.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#getRefCount(G)">getRefCount</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</code>
<div class="block">Returns the current reference count of the given reference.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()">maybeRefresh</a></strong>()</code>
<div class="block">You must call this (or <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefreshBlocking()"><code>maybeRefreshBlocking()</code></a>), periodically, if
 you want that <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a> will return refreshed instances.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefreshBlocking()">maybeRefreshBlocking</a></strong>()</code>
<div class="block">You must call this (or <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()"><code>maybeRefresh()</code></a>), periodically, if you want
 that <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a> will return refreshed instances.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#refreshIfNeeded(G)">refreshIfNeeded</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;referenceToRefresh)</code>
<div class="block">Refresh the given reference if needed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#release(G)">release</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</code>
<div class="block">Release the reference previously obtained via <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#removeListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">removeListener</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</code>
<div class="block">Remove a listener added with <a href="../../../../org/apache/lucene/search/ReferenceManager.html#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)"><code>addListener(RefreshListener)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/lucene/search/ReferenceManager.html#tryIncRef(G)">tryIncRef</a></strong>(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</code>
<div class="block">Try to increment reference counting on the given reference.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="current">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>current</h4>
<pre>protected volatile&nbsp;<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a> current</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReferenceManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReferenceManager</h4>
<pre>public&nbsp;ReferenceManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="decRef(java.lang.Object)">
<!--   -->
</a><a name="decRef(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decRef</h4>
<pre>protected abstract&nbsp;void&nbsp;decRef(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)
                        throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Decrement reference counting on the given reference.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if reference decrement on the given resource failed.</dd></dl>
</li>
</ul>
<a name="refreshIfNeeded(java.lang.Object)">
<!--   -->
</a><a name="refreshIfNeeded(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshIfNeeded</h4>
<pre>protected abstract&nbsp;<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;refreshIfNeeded(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;referenceToRefresh)
                              throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Refresh the given reference if needed. Returns <code>null</code> if no refresh
 was needed, otherwise a new refreshed reference.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>closed</code></a>.</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the refresh operation failed</dd></dl>
</li>
</ul>
<a name="tryIncRef(java.lang.Object)">
<!--   -->
</a><a name="tryIncRef(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryIncRef</h4>
<pre>protected abstract&nbsp;boolean&nbsp;tryIncRef(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)
                              throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Try to increment reference counting on the given reference. Return true if
 the operation was successful.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>closed</code></a>.</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="acquire()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public final&nbsp;<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;acquire()
                throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Obtain the current reference. You must match every call to acquire with one
 call to <a href="../../../../org/apache/lucene/search/ReferenceManager.html#release(G)"><code>release(G)</code></a>; it's best to do so in a finally clause, and set
 the reference to <code>null</code> to prevent accidental usage after it has been
 released.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>closed</code></a>.</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public final&nbsp;void&nbsp;close()
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>
 Closes this ReferenceManager to prevent future <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquiring</code></a>. A
 reference manager should be closed if the reference to the managed resource
 should be disposed or the application using the <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>
 is shutting down. The managed resource might not be released immediately,
 if the <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a> user is holding on to a previously
 <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquired</code></a> reference. The resource will be released once
 when the last reference is <a href="../../../../org/apache/lucene/search/ReferenceManager.html#release(G)"><code>released</code></a>. Those
 references can still be used as if the manager was still active.
 </p>
 <p>
 Applications should not <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire</code></a> new references from this
 manager once this method has been called. <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>Acquiring</code></a> a
 resource on a closed <a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a> will throw an
 <a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a>.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the underlying reader of the current reference could not be closed</dd></dl>
</li>
</ul>
<a name="getRefCount(java.lang.Object)">
<!--   -->
</a><a name="getRefCount(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRefCount</h4>
<pre>protected abstract&nbsp;int&nbsp;getRefCount(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</pre>
<div class="block">Returns the current reference count of the given reference.</div>
</li>
</ul>
<a name="afterClose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterClose</h4>
<pre>protected&nbsp;void&nbsp;afterClose()
                   throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Called after close(), so subclass can free any resources.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the after close operation in a sub-class throws an <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a></dd></dl>
</li>
</ul>
<a name="maybeRefresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeRefresh</h4>
<pre>public final&nbsp;boolean&nbsp;maybeRefresh()
                           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">You must call this (or <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefreshBlocking()"><code>maybeRefreshBlocking()</code></a>), periodically, if
 you want that <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a> will return refreshed instances.
 
 <p>
 <b>Threads</b>: it's fine for more than one thread to call this at once.
 Only the first thread will attempt the refresh; subsequent threads will see
 that another thread is already handling refresh and will return
 immediately. Note that this means if another thread is already refreshing
 then subsequent threads will return right away without waiting for the
 refresh to complete.
 
 <p>
 If this method returns true it means the calling thread either refreshed or
 that there were no changes to refresh. If it returns false it means another
 thread is currently refreshing.
 </p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if refreshing the resource causes an <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a></dd>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>closed</code></a>.</dd></dl>
</li>
</ul>
<a name="maybeRefreshBlocking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeRefreshBlocking</h4>
<pre>public final&nbsp;void&nbsp;maybeRefreshBlocking()
                                throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">You must call this (or <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()"><code>maybeRefresh()</code></a>), periodically, if you want
 that <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a> will return refreshed instances.
 
 <p>
 <b>Threads</b>: unlike <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()"><code>maybeRefresh()</code></a>, if another thread is
 currently refreshing, this method blocks until that thread completes. It is
 useful if you want to guarantee that the next call to <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a>
 will return a refreshed instance. Otherwise, consider using the
 non-blocking <a href="../../../../org/apache/lucene/search/ReferenceManager.html#maybeRefresh()"><code>maybeRefresh()</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if refreshing the resource causes an <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a></dd>
<dd><code><a href="../../../../org/apache/lucene/store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>closed</code></a>.</dd></dl>
</li>
</ul>
<a name="afterMaybeRefresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterMaybeRefresh</h4>
<pre>protected&nbsp;void&nbsp;afterMaybeRefresh()
                          throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Called after a refresh was attempted, regardless of
  whether a new reference was in fact created.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if a low level I/O exception occurs</dd></dl>
</li>
</ul>
<a name="release(java.lang.Object)">
<!--   -->
</a><a name="release(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public final&nbsp;void&nbsp;release(<a href="../../../../org/apache/lucene/search/ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)
                   throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Release the reference previously obtained via <a href="../../../../org/apache/lucene/search/ReferenceManager.html#acquire()"><code>acquire()</code></a>.
 <p>
 <b>NOTE:</b> it's safe to call this after <a href="../../../../org/apache/lucene/search/ReferenceManager.html#close()"><code>close()</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the release operation on the given resource throws an <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io"><code>IOException</code></a></dd></dl>
</li>
</ul>
<a name="addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>public&nbsp;void&nbsp;addListener(<a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</pre>
<div class="block">Adds a listener, to be notified when a reference is refreshed/swapped.</div>
</li>
</ul>
<a name="removeListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeListener</h4>
<pre>public&nbsp;void&nbsp;removeListener(<a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</pre>
<div class="block">Remove a listener added with <a href="../../../../org/apache/lucene/search/ReferenceManager.html#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)"><code>addListener(RefreshListener)</code></a>.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReferenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/lucene/search/QueryWrapperFilter.html" title="class in org.apache.lucene.search"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/lucene/search/ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/lucene/search/ReferenceManager.html" target="_top">Frames</a></li>
<li><a href="ReferenceManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
          <i>Copyright &copy; 2000-2015 Apache Software Foundation.  All Rights Reserved.</i>
          <script src='../../../../prettify.js' type='text/javascript'></script>
          <script type='text/javascript'>
            (function(){
              var oldonload = window.onload;
              if (typeof oldonload != 'function') {
                window.onload = prettyPrint;
              } else {
                window.onload = function() {
                  oldonload();
                  prettyPrint();
                }
              }
            })();
          </script>
        </small></p>
</body>
</html>
